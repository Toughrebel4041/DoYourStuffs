<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="Study Timer.css">
    <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <title>Metode Pomodoro</title>
</head>
<body>
    <div class="row vh-100">
        <div class="home-intro container-fluid">
            <div class="navbar">
                <span><button style="background-color: #40C9FF; border-color: #40C9FF; border-style: none; font-weight: 500;" onclick="window.location.href = 'home.html';">Do Your Stuffs!</button></span>
                <span>Study Timer</span>
            </div>
            <br><br>
            <h1>Selamat datang di metode belajar Pomodoro.</h1>
            <div class="container text-center">
                <div class="row">
                    <div class="col">
                      <p>Pada metode belajar ini, kamu akan belajar selama 25 menit, dan istirahat 5 menit, sebanyak 5 sesi.</p>
                      <br>
                      <br>
                      <br>
                      <h2 id="agenda">Waktu Belajar Tersisa</h2>
                      <br>
                      <h2 id="timer"></h2>
                    </div>
                    <button id="startButton">Mulai Belajar</button>
                </div>
            </div>
        </div>
        <script>
            // Set the initial values
let workTime = 25 * 60; // 25 minutes in seconds
let breakTime = 5 * 60; // 5 minutes in seconds
let sets = 4;
let currentSet = 1;
let isWorking = true; // Flag to track if it's work time or break time
let timer;

// Function to format the time in MM:SS format
function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60).toString().padStart(2, '0');
  const remainingSeconds = (seconds % 60).toString().padStart(2, '0');
  return `${minutes}:${remainingSeconds}`;
}

// Function to update the timer display
function updateDisplay(time) {
  const timerDisplay = document.getElementById('timer');
  timerDisplay.textContent = formatTime(time);
}

// Function to handle the timer countdown
function countdown() {
  if (isWorking && workTime > 0) {
    workTime--;
    updateDisplay(workTime);
  } else if (!isWorking && breakTime > 0) {
    breakTime--;
    updateDisplay(breakTime);
  } else {
    // Switch between work time and break time
    isWorking = !isWorking;

    // Check if a set is completed
    if (isWorking && currentSet === sets) {
      clearInterval(timer);
      updateDisplay(0);
      alert('All sets completed!');
      return;
    }

    // Reset the timer for the next interval
    if (isWorking) {
      workTime = 25 * 60; // 25 minutes in seconds
      currentSet++;
    } else {
      breakTime = 5 * 60; // 5 minutes in seconds
    }
  }
}

// Function to start the timer
function startTimer() {
  timer = setInterval(countdown, 1000);
}

// Event listener for the start button
const startButton = document.getElementById('startButton');
startButton.addEventListener('click', startTimer);

            </script>
</body>
</html>